<html>
	<head>
	
	<link href="//gmpg.org/xfn/11" rel="profile">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<link rel="canonical" href="http://atomic111.github.io/blog/inspec-cis-docker" />
	<meta name="description" content="We have recently published the new InSpec CIS Docker Benchmark profile. This [InSpec](https://github.com/chef/inspec) compliance profile implement the [CIS Docker 1.11.0..." />
	<meta property="og:description" content="We have recently published the new InSpec CIS Docker Benchmark profile. This [InSpec](https://github.com/chef/inspec) compliance profile implement the [CIS Docker 1.11.0..." />
	<meta itemprop="image" content="http://atomic111.github.io/assets/article_images/2016-05-30-inspec-cis-docker/cover.jpeg" />
	<meta property="og:image" content="http://atomic111.github.io/assets/article_images/2016-05-30-inspec-cis-docker/cover.jpeg" />
	<meta property="og:title" content="Docker Security Tool: InSpec CIS Docker Benchmark" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://atomic111.github.io/blog/inspec-cis-docker" />
	<meta property="og:site_name" content="Patrick Münch Blog" />
	<title>Docker Security Tool: InSpec CIS Docker Benchmark &middot; Patrick Münch Blog</title>
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" media="only screen and (min-width: 900px)" href="/assets/css/desktop.css" />
	<link rel="stylesheet" type="text/css" media="only screen and (max-width: 899px)" href="/assets/css/mobile.css" />
	<link href="/assets/css/genericons.css" type="text/css" rel="stylesheet" />
	<link href="/assets/css/syntax.css" type="text/css" rel="stylesheet" />
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fenix:400,400italic">
	<link rel="apple-touch-icon" href="http://atomic111.github.io/assets/images/logo.jpeg">
	<link rel="shortcut icon" href="http://atomic111.github.io/assets/images/favicon.ico">
	<link rel="alternate" type="application/rss+xml" title="RSS" href="http://atomic111.github.io/atom.xml">
	<script type="text/javascript" src="/assets/js/jquery-2.1.0.min.js"></script>
	
	<script type="text/javascript" src="/assets/js/jquery.stellar.min.js"></script>
	
	
	<!-- Asynchronous Google Analytics snippet -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-74418092-1', 'auto');
		ga('send', 'pageview');
	</script>
	
	<!-- Theme Color for Chrome on Android Lollipop -->
	<meta name="theme-color" content="#302F2D">
</head>

	<body>
		<header class="clean" style="background-image: url(/assets/article_images/2016-05-30-inspec-cis-docker/cover.jpeg); height: 100%; " data-stellar-background-ratio="0.5" data-stellar-horizontal-offset="50">
	
	<label class="menu" for="_1">
	<span class="genericon genericon-menu"></span>
</label>
<input id="_1" type="checkbox">
<div class="menu-content">
	<p class="menu-title">Patrick Münch Blog<p>
	<div class="menu" style="background-color: #1a1a1a; z-index: -1;"></div>
	
		<a href="/">Home</a>
	
	<hr>
	<a href="https://twitter.com/atomiczero111" class="social-links-menu" target="_blank" title="Follow us on twitter"><span class="genericon genericon-twitter"></span></a><a href="https://github.com/atomic111" class="social-links-menu" target="_blank" title="Fork us on github"><span class="genericon genericon-github"></span></a>
</div>
<div class="social-links" data-stellar-ratio="0.1">
	
		<a href="https://twitter.com/atomiczero111" target="_blank" title="Follow us on twitter"><span class="genericon genericon-twitter"></span></a>
	
		<a href="https://github.com/atomic111" target="_blank" title="Fork us on github"><span class="genericon genericon-github"></span></a>
	
</div>

	<div id="post-info" data-stellar-ratio="0.7">
		<h1>Docker Security Tool: InSpec CIS Docker Benchmark</h1>
		
		<a class="site-title" href="https://twitter.com/atomiczero111"><div class="site-icon-small" style="background-image: url(https://avatars0.githubusercontent.com/u/7220740?s=400);"></div>Patrick Münch</a>, in 30 May 2016
	</div>
	
	<div id="nav-icon" style="bottom: 30px;" data-stellar-ratio="4">
		<a class="scroll" data-speed="500" href="#article"><span class="genericon genericon-expand"></span></a>
	</div>
</header>
<div id="middle">
	<div id="article">
		<p>We have recently published the new InSpec CIS Docker Benchmark profile. This <a href="https://github.com/chef/inspec">InSpec</a> compliance profile implement the <a href="https://benchmarks.cisecurity.org/tools2/docker/CIS_Docker_1.11.0_Benchmark_v1.0.0.pdf">CIS Docker 1.11.0 Benchmark</a> in an automated way to provide security best-practice tests around the Docker daemon and containers in a production environment.</p>

<p>Having the CIS document is very important, but to have the ability to execute the benchmarks and to get immediately a status of your running environment is equally important. To achive the goal we have implemented the CIS Docker Benchmarks for Security which automates inpsecting a host configuration against the CIS Benchmark recommendations. We also started to include some attributes that you can configure tests to meet your production environment.</p>

<p>We are using InSpec to implement the CIS Docker Benchmark. InSpec is an open-source testing framework for infrastructure with a human- and machine-readable language for specifying compliance, security and policy requirements.</p>

<p>InSpec stands for “infrastructure specification” and is also a contraction of “inspect.” You can use InSpec to examine any node in your infrastructure. The InSpec framework is working locally on the node being inspected and also remotely to inspect a node via ssh. As input, it uses controls you write with the InSpec language. If it detects security, compliance or policy issues they are flagged in a log.</p>

<p>You can find here the requirements to run the InSpec CIS Docker Benchmark: <a href="https://github.com/chef/inspec#installation">InSpec Installation</a></p>

<p>I started a Centos 7 vagrant box and implemented all CIS Docker Benchmark recommendations to secure the Docker daemon and one container.</p>

<p>First of all download the github repo:</p>

<p><code>bash
git clone inspec exec https://github.com/dev-sec/cis-docker-benchmark.git -t ssh://vagrant@127.0.0.1 --port 2222 --key-files vm_docker/.vagrant/machines/centos7/virtualbox/private_key --sud
</code></p>

<p>As you can see it runs 197 InSpec tests with 7 failures. I am waiting that docker fixes those failures:</p>

<ul>
  <li>https://docs.docker.com/engine/reference/commandline/daemon/#default-ulimits</li>
  <li>https://github.com/docker/docker/issues/21050</li>
  <li>https://github.com/docker/docker/issues/22311</li>
</ul>

	</div>
	
	<div id="comments">
		
	
	<script src="https://apis.google.com/js/plusone.js"></script>
	<div id="g-comments" class="g-comments" data-href="http://atomic111.github.io/blog/inspec-cis-docker" data-width="700" data-first_party_property="BLOGGER" data-view_type="FILTERED_POSTMOD"></div>
	<script>
		var width = $('#comments').width() * 0.9;
		width = Math.round(width);
		$("#g-comments").attr({ "data-width": width });
	</script>


	</div>
	
	<div class="social center">
		<div class="network">
		<a class="hn-link" href="javascript:window.location=%22http://news.ycombinator.com/submitlink?u=%22+encodeURIComponent(document.location)+%22&amp;t=%22+encodeURIComponent(document.title)">Discuss on Hacker News</a>
		</div>
		<div class="network twitter">
		<a href="https://twitter.com/share" class="twitter-share-button" data-via="atomiczero111" data-count="none">Tweet</a>
		<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
		</div>
	</div>
</div>

	
		
		
		
		
		
		
	


<footer class="clean" style="background-image: url(/assets/images/cover.jpeg); height: 75%; min-height: 500px; " data-stellar-background-ratio="0.5" data-stellar-horizontal-offset="50" data-stellar-vertical-offset="50">
	<div id="nav-icon" style="top: 60px;" data-stellar-ratio="0.8">
		<a class="scroll" data-speed="500" href="#article"><span class="genericon genericon-collapse"></span></a>
	</div>
	<div id="post-info" data-stellar-ratio="0.5" data-stellar-vertical-offset="120">
		<h3>Featured post</h3>
		<a href="/blog/create-a-naxsi-waf-for-owncloud">
			<h1>Create a NAXSI WAF for Owncloud</h1>
			
				<h2></h2>
			
		</a>
	</div>
	<p class="copyright">&copy;2016, <a href="http://atomic111.github.io/" target="_blank">Patrick Münch</a>. All rights reserved.</p>
</footer>
<script src="/assets/js/smooth-scroll.js"></script>

		<script>
		var width = $(window).width()
		if ( width > 899 )
		$( function(){
			$.stellar({
				responsive: true,
			verticalScrolling: true,
			horizontalOffset: 0,
			verticalOffset: 0,
			positionProperty: 'transform',
			});
		});
		</script>
	</body>
</html>
